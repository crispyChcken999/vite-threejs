import{m as e,q as s,o as t,e as n,s as o,f as a,w as l,t as r,h as u,v as d,u as p,x as i,y as c,T as m,z as f,A as g,l as y,B as v,c as x,C as b,D as h,E as C,F as T,G as k,H as N,I as _,J as w,K as B}from"./entry.f2d3e14d.js";import{m as S,u as I,a as L,E as M}from"./typescript.b2e26bb6.js";import{b as $,u as E,i as z,_ as H,w as D,c as j,d as U,e as q,f as A,T as F,a as O,g as R,h as Z,j as G,k as J}from"./el-button.6bd176bb.js";const K={},P=$({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),Q=["textContent"];const V=D(H(e({...e({name:"ElBadge"}),props:P,setup(e,{expose:f}){const g=e,y=E("badge"),v=s((()=>g.isDot?"":z(g.value)&&z(g.max)&&g.max<g.value?`${g.max}+`:`${g.value}`));return f({content:v}),(e,s)=>(t(),n("div",{class:d(p(y).b())},[o(e.$slots,"default"),a(m,{name:`${p(y).namespace.value}-zoom-in-center`,persisted:""},{default:l((()=>[r(u("sup",{class:d([p(y).e("content"),p(y).em("content",e.type),p(y).is("fixed",!!e.$slots.default),p(y).is("dot",e.isDot)]),textContent:i(p(v))},null,10,Q),[[c,!e.hidden&&(p(v)||e.isDot)]])])),_:1},8,["name"])],2))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]])),W=["success","info","warning","error"],X=S({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:q?document.body:void 0}),Y=$({customClass:{type:String,default:X.customClass},center:{type:Boolean,default:X.center},dangerouslyUseHTMLString:{type:Boolean,default:X.dangerouslyUseHTMLString},duration:{type:Number,default:X.duration},icon:{type:j,default:X.icon},id:{type:String,default:X.id},message:{type:U([String,Object,Function]),default:X.message},onClose:{type:U(Function),required:!1},showClose:{type:Boolean,default:X.showClose},type:{type:String,values:W,default:X.type},offset:{type:Number,default:X.offset},zIndex:{type:Number,default:X.zIndex},grouping:{type:Boolean,default:X.grouping},repeatNum:{type:Number,default:X.repeatNum}}),ee=f([]),se=e=>{const{prev:s}=(e=>{const s=ee.findIndex((s=>s.id===e)),t=ee[s];let n;return s>0&&(n=ee[s-1]),{current:t,prev:n}})(e);return s?s.vm.exposed.bottom.value:0},te=["id"],ne=["innerHTML"];var oe=H(e({...e({name:"ElMessage"}),props:Y,emits:{destroy:()=>!0},setup(e,{expose:f}){const N=e,{Close:_}=R,{ns:w,zIndex:B}=A("message"),{currentZIndex:S,nextZIndex:$}=B,E=g(),z=g(!1),H=g(0);let D;const j=s((()=>N.type?"error"===N.type?"danger":N.type:"info")),U=s((()=>{const e=N.type;return{[w.bm("icon",e)]:e&&F[e]}})),q=s((()=>N.icon||F[N.type]||"")),G=s((()=>se(N.id))),J=s((()=>((e,s)=>ee.findIndex((s=>s.id===e))>0?20:s)(N.id,N.offset)+G.value)),K=s((()=>H.value+J.value)),P=s((()=>({top:`${J.value}px`,zIndex:S.value})));function Q(){0!==N.duration&&({stop:D}=Z((()=>{X()}),N.duration))}function W(){null==D||D()}function X(){z.value=!1}return y((()=>{Q(),$(),z.value=!0})),v((()=>N.repeatNum),(()=>{W(),Q()})),I(document,"keydown",(function({code:e}){e===M.esc&&X()})),L(E,(()=>{H.value=E.value.getBoundingClientRect().height})),f({visible:z,bottom:K,close:X}),(e,s)=>(t(),x(m,{name:p(w).b("fade"),onBeforeLeave:e.onClose,onAfterLeave:s[0]||(s[0]=s=>e.$emit("destroy")),persisted:""},{default:l((()=>[r(u("div",{id:e.id,ref_key:"messageRef",ref:E,class:d([p(w).b(),{[p(w).m(e.type)]:e.type&&!e.icon},p(w).is("center",e.center),p(w).is("closable",e.showClose),e.customClass]),style:b(p(P)),role:"alert",onMouseenter:W,onMouseleave:Q},[e.repeatNum>1?(t(),x(p(V),{key:0,value:e.repeatNum,type:p(j),class:d(p(w).e("badge"))},null,8,["value","type","class"])):h("v-if",!0),p(q)?(t(),x(p(O),{key:1,class:d([p(w).e("icon"),p(U)])},{default:l((()=>[(t(),x(C(p(q))))])),_:1},8,["class"])):h("v-if",!0),o(e.$slots,"default",{},(()=>[e.dangerouslyUseHTMLString?(t(),n(T,{key:1},[h(" Caution here, message could've been compromised, never use user's input as message "),u("p",{class:d(p(w).e("content")),innerHTML:e.message},null,10,ne)],2112)):(t(),n("p",{key:0,class:d(p(w).e("content"))},i(e.message),3))])),e.showClose?(t(),x(p(O),{key:2,class:d(p(w).e("closeBtn")),onClick:k(X,["stop"])},{default:l((()=>[a(p(_))])),_:1},8,["class","onClick"])):h("v-if",!0)],46,te),[[c,z.value]])])),_:3},8,["name","onBeforeLeave"]))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]);let ae=1;const le=e=>{const s=!e||N(e)||_(e)||w(e)?{message:e}:e,t={...X,...s};if(t.appendTo){if(N(t.appendTo)){let e=document.querySelector(t.appendTo);G(e)||(e=document.body),t.appendTo=e}}else t.appendTo=document.body;return t},re=({appendTo:e,...s},t)=>{const n="message_"+ae++,o=s.onClose,l=document.createElement("div"),r={...s,id:n,onClose:()=>{null==o||o(),(e=>{const s=ee.indexOf(e);if(-1===s)return;ee.splice(s,1);const{handler:t}=e;t.close()})(i)},onDestroy:()=>{B(null,l)}},u=a(oe,r,w(r.message)||_(r.message)?{default:w(r.message)?r.message:()=>r.message}:null);u.appContext=t||ue._context,B(u,l),e.appendChild(l.firstElementChild);const d=u.component,p={close:()=>{d.exposed.visible.value=!1}},i={id:n,vnode:u,vm:d,handler:p,props:u.component.props};return i},ue=(e={},s)=>{if(!q)return{close:()=>{}};if(z(K.max)&&ee.length>=K.max)return{close:()=>{}};const t=le(e);if(t.grouping&&ee.length){const e=ee.find((({vnode:e})=>{var s;return(null==(s=e.props)?void 0:s.message)===t.message}));if(e)return e.props.repeatNum+=1,e.props.type=t.type,e.handler}const n=re(t,s);return ee.push(n),n.handler};W.forEach((e=>{ue[e]=(s={},t)=>{const n=le(s);return ue({...n,type:e},t)}})),ue.closeAll=function(e){for(const s of ee)e&&e!==s.props.type||s.handler.close()},ue._context=null;const de=J(ue,"$message");export{de as E};
